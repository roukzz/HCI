{"version":3,"sources":["webpack://AudioPlayer/webpack/universalModuleDefinition","webpack://AudioPlayer/webpack/bootstrap","webpack://AudioPlayer/external {\"root\":\"React\",\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\"}","webpack://AudioPlayer/external {\"root\":\"PropTypes\",\"commonjs\":\"prop-types\",\"commonjs2\":\"prop-types\",\"amd\":\"prop-types\"}","webpack://AudioPlayer/./node_modules/classnames/index.js","webpack://AudioPlayer/./node_modules/array-find-index/index.js","webpack://AudioPlayer/./src/index.js"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__1__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__WEBPACK_AMD_DEFINE_RESULT__","hasOwn","classNames","classes","arguments","length","arg","argType","push","Array","isArray","inner","apply","join","default","undefined","arr","predicate","ctx","findIndex","TypeError","list","len","deprecatedProps","alternativeMessage","log","console","logError","error","logWarning","warn","findDeprecatedProps","props","filter","deprecated","doTokensMatchObject","tokens","nextTokens","slice","keys","some","split","token","getTokensForPropName","loggedDeprecations","logDeprecationWarnings","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","iterator","next","done","indexOf","err","return","nextControlKey","getNextControlKey","toString","playErrorHandler","warningMessage","Date","toLocaleTimeString","convertToTime","number","mins","Math","floor","secs","toFixed","supportableMediaSessionActions","SkipButton","_ref","hidden","back","onClick","react__WEBPACK_IMPORTED_MODULE_0___default","a","createElement","id","className","classnames__WEBPACK_IMPORTED_MODULE_3___default","AudioProgressDisplay","ref","onRef","onMouseDown","onMouseTouchStart","onTouchStart","style","width","progressBarWidth","draggable","displayText","timeRatio","keywordToControlComponent","backskip","_ref2","audioPlayer","hideBackSkip","backSkip","forwardskip","_ref3","hideForwardSkip","skipToNextTrack","playpause","_ref4","paused","state","togglePause","spacer","progressdisplay","progress","_extends","adjustDisplayedTime","audioProgressContainer","AudioPlayer","_classCallCheck","this","_this","_possibleConstructorReturn","__proto__","getPrototypeOf","seekInProgress","currentTrackIndex","defaultState","activeTrackIndex","displayedTime","controlKeys","controls","map","audio","setAudioElementRef","seekReleaseListener","e","seek","audioPlayListener","setState","stealMediaSession","audioPauseListener","audioEndListener","gapLengthInSeconds","clearTimeout","gapLengthTimeout","setTimeout","audioStallListener","audioTimeUpdateListener","handleTimeUpdate","audioMetadataLoadedListener","Component","_this2","addEventListener","document","preload","crossOrigin","addMediaEventListeners","onMediaEvent","playlist","updateSource","autoplay","delay","autoplayDelayInSeconds","delayTimeout","warnedAboutPlaylistMutation","lastPlaylistCopy","concat","_toConsumableArray","removeEventListener","removeMediaEventListeners","pause","body","classList","remove","nextProps","_this3","oldControls","control","matchingIndex","newPlaylist","src","currentTrackUrl","url","array_find_index__WEBPACK_IMPORTED_MODULE_2___default","track","mediaEvents","_this4","forEach","type","_this5","prevProps","_this6","index","audioElementRef","_this7","MediaSession","navigator","mediaSession","metadata","MediaMetadata","action","supportedMediaSessionActions","seekLength","mediaSessionSeekLengthInSeconds","currentTime","handler","setActionHandler","playPromise","play","catch","Promise","reject","shouldPlay","_this8","shouldPause","cycle","stayOnBackSkipThreshold","isNaN","event","disableSeek","add","preventDefault","boundingRect","getBoundingClientRect","position","targetTouches","item","pageX","left","scrollLeft","containerWidth","progressPercentage","max","min","duration","_this9","activeIndex","getDisplayText","title","controlKeyword","controlProps","Control","propTypes","prop_types__WEBPACK_IMPORTED_MODULE_1___default","array","arrayOf","oneOf","bool","isRequired","func","defaultProps","artist","album","__webpack_exports__"],"mappings":"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","file":"audioplayer.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"prop-types\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"prop-types\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"AudioPlayer\"] = factory(require(\"react\"), require(\"prop-types\"));\n\telse\n\t\troot[\"AudioPlayer\"] = factory(root[\"React\"], root[\"PropTypes\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__1__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","'use strict';\nmodule.exports = function (arr, predicate, ctx) {\n\tif (typeof Array.prototype.findIndex === 'function') {\n\t\treturn arr.findIndex(predicate, ctx);\n\t}\n\n\tif (typeof predicate !== 'function') {\n\t\tthrow new TypeError('predicate must be a function');\n\t}\n\n\tvar list = Object(arr);\n\tvar len = list.length;\n\n\tif (len === 0) {\n\t\treturn -1;\n\t}\n\n\tfor (var i = 0; i < len; i++) {\n\t\tif (predicate.call(ctx, list[i], i, list)) {\n\t\t\treturn i;\n\t\t}\n\t}\n\n\treturn -1;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport arrayFindIndex from 'array-find-index';\nimport classNames from 'classnames';\n\nimport './index.scss';\n\nconst deprecatedProps = [\n  {\n    name: 'hideBackSkip',\n    alternativeMessage:\n      'Exclude \"backskip\" from `controls` to hide the back skip button.'\n  },\n  {\n    name: 'hideForwardSkip',\n    alternativeMessage:\n      'Exclude \"forwardskip\" from `controls` to hide the back skip button.'\n  },\n  {\n    name: 'disableSeek',\n    alternativeMessage:\n      'Pass \"progressdisplay\" to `controls` (instead of \"progress\") ' +\n        'for a non-seekable progress bar.'\n  },\n  {\n    name: 'playlist[?].displayText',\n    alternativeMessage:\n      'Use `title` and `artist` to provide track information, and override ' +\n        ' the `getDisplayText` function prop for custom display if needed.'\n  },\n  {\n    name: 'style',\n    alternativeMessage: 'Apply styles to a container element or use CSS.'\n  }\n];\n\nconst log = console.log.bind(console);\nconst logError = console.error ? console.error.bind(console) : log;\nconst logWarning = console.warn ? console.warn.bind(console) : log;\n\nfunction getTokensForPropName (name) {\n  // simple (imperfect) regex for splitting name into keys\n  return name.split(/\\.|\\[|\\]/).filter(token => token);\n}\n\nfunction doTokensMatchObject (tokens, object) {\n  if (tokens.length === 0) {\n    // for our purposes we can assume if we've exhausted the list,\n    // then we were able to match the whole way down.\n    return true;\n  }\n  const t = tokens[0];\n  const nextTokens = tokens.slice(1);\n  if (t === '?') { // wildcard - search all keys for a match\n    return Object.keys(object).some(key => {\n      return doTokensMatchObject(nextTokens, object[key]);\n    });\n  }\n  return t in object && doTokensMatchObject(nextTokens, object[t]);\n}\n\nfunction findDeprecatedProps (props) {\n  return deprecatedProps.filter(deprecated => {\n    return doTokensMatchObject(getTokensForPropName(deprecated.name), props);\n  });\n}\n\nconst loggedDeprecations = [];\nfunction logDeprecationWarnings (props) {\n  for (const deprecated of findDeprecatedProps(props)) {\n    if (loggedDeprecations.indexOf(deprecated.name) === -1) {\n      logWarning(`\n        The \\`${deprecated.name}\\` prop is deprecated. It will be removed\n        in react-responsive-audio-player v2.0.0.\n        ${deprecated.alternativeMessage}`);\n      loggedDeprecations.push(deprecated.name);\n    }\n  }\n}\n\nlet nextControlKey = 0;\nfunction getNextControlKey () {\n  return (nextControlKey++).toString();\n}\n\nfunction playErrorHandler (err) {\n  logError(err);\n  if (err.name === 'NotAllowedError') {\n    const warningMessage =\n      'Audio playback failed at ' +\n      new Date().toLocaleTimeString() +\n      '! (Perhaps autoplay is disabled in this browser.)';\n    logWarning(warningMessage);\n  }\n}\n\n/* converts given number of seconds to standard time display format\n * http://goo.gl/kEvnKn\n */\nfunction convertToTime (number) {\n  const mins = Math.floor(number / 60);\n  const secs = (number % 60).toFixed();\n  return `${ mins < 10 ? '0' : '' }${ mins }:${ secs < 10 ? '0' : '' }${ secs }`;\n}\n\n// Existing Media Session API implementations have default handlers\n// for play/pause, and may yield unexpected behavior if custom\n// play/pause handlers are defined - so let's leave them be.\nconst supportableMediaSessionActions = [\n  'previoustrack',\n  'nexttrack',\n  'seekbackward',\n  'seekforward'\n];\n\n// BEGIN PRIVATE CONTROL COMPONENTS\n\nconst SkipButton = ({ hidden, back, onClick }) => (\n  <div\n    id=\"skip_button\"\n    className={classNames('skip_button audio_button', { hidden, back })}\n    onClick={onClick}\n  >\n    <div className=\"skip_button_inner\">\n      <div className=\"right_facing_triangle\"></div>\n      <div className=\"right_facing_triangle\"></div>\n    </div>\n  </div>\n);\n\nconst BackSkipButton = ({ audioPlayer }) => (\n  <SkipButton\n    audioPlayer={audioPlayer}\n    hidden={audioPlayer.props.hideBackSkip}\n    back={true}\n    onClick={audioPlayer.backSkip}\n  />\n);\n\nconst ForwardSkipButton = ({ audioPlayer }) => (\n  <SkipButton\n    audioPlayer={audioPlayer}\n    hidden={audioPlayer.props.hideForwardSkip}\n    back={false}\n    onClick={audioPlayer.skipToNextTrack}\n  />\n);\n\nconst PlayPauseButton = ({ audioPlayer }) => (\n  <div\n    id=\"play_pause_button\"\n    className={classNames('play_pause_button audio_button', {\n      paused: audioPlayer.state.paused\n    })}\n    onClick={audioPlayer.togglePause}\n  >\n    <div className=\"play_pause_inner\">\n      <div className=\"left\"></div>\n      <div className=\"right\"></div>\n      <div className=\"triangle_1\"></div>\n      <div className=\"triangle_2\"></div>\n    </div>\n  </div>\n);\n\nconst Spacer = () => <div className=\"spacer\" />;\n\nconst AudioProgressDisplay = (props) => {\n  return (\n    <div\n      id=\"audio_progress_container\"\n      className=\"audio_progress_container\"\n      ref={props.onRef}\n      onMouseDown={props.onMouseTouchStart}\n      onTouchStart={props.onMouseTouchStart}\n    >\n      <div\n        id=\"audio_progress\"\n        className=\"audio_progress\"\n        style={{ width: props.progressBarWidth }}></div>\n      <div id=\"audio_progress_overlay\" className=\"audio_progress_overlay\">\n        <div className=\"audio_info_marquee\">\n          <div\n            id=\"audio_info\"\n            className=\"audio_info noselect\"\n            draggable=\"false\"\n          >\n            {props.displayText}\n          </div>\n        </div>\n        <div\n          id=\"audio_time_progress\"\n          className=\"audio_time_progress noselect\"\n          draggable=\"false\"\n        >\n          {props.timeRatio}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nconst AudioProgress = (props) => (\n  <AudioProgressDisplay\n    {...props}\n    onMouseTouchStart={props.audioPlayer.adjustDisplayedTime}\n    onRef={(ref) => props.audioPlayer.audioProgressContainer = ref}\n  />\n);\n\nconst keywordToControlComponent = {\n  backskip: BackSkipButton,\n  forwardskip: ForwardSkipButton,\n  playpause: PlayPauseButton,\n  spacer: Spacer,\n  progressdisplay: AudioProgressDisplay,\n  progress: AudioProgress\n};\n\n// END PRIVATE CONTROL COMPONENTS\n\nclass AudioPlayer extends React.Component {\n\n  constructor (props) {\n    super(props);\n\n    /* true if the user is currently dragging the mouse\n     * to seek a new track position\n     */\n    this.seekInProgress = false;\n    // index matching requested track (whether track has loaded or not)\n    this.currentTrackIndex = 0;\n\n    this.defaultState = {\n      /* activeTrackIndex will change to match\n       * this.currentTrackIndex once metadata has loaded\n       */\n      activeTrackIndex: -1,\n      // indicates whether audio player should be paused\n      paused: true,\n      /* elapsed time for current track, in seconds -\n       * DISPLAY ONLY! the actual elapsed time may\n       * not match up if we're currently seeking, since\n       * the new time is visually previewed before the\n       * audio seeks.\n       */\n      displayedTime: 0\n    };\n\n    this.state = this.defaultState;\n\n    // set of keys to use in controls render\n    this.controlKeys = props.controls.map(getNextControlKey);\n\n    // html audio element used for playback\n    this.audio = null;\n    this.audioProgressContainer = null;\n\n    // event listeners to add on mount and remove on unmount\n    this.setAudioElementRef = this.setAudioElementRef.bind(this);\n    this.backSkip = this.backSkip.bind(this);\n    this.skipToNextTrack = this.skipToNextTrack.bind(this);\n    this.togglePause = this.togglePause.bind(this);\n    this.adjustDisplayedTime = this.adjustDisplayedTime.bind(this);\n    this.seekReleaseListener = e => this.seek(e);\n    this.audioPlayListener = () => {\n      this.setState({ paused: false });\n      this.stealMediaSession();\n    };\n    this.audioPauseListener = () => this.setState({ paused: true });\n    this.audioEndListener = () => {\n      const gapLengthInSeconds = this.props.gapLengthInSeconds || 0;\n      clearTimeout(this.gapLengthTimeout);\n      this.gapLengthTimeout = setTimeout(() => this.skipToNextTrack(), gapLengthInSeconds * 1000);\n    };\n    this.audioStallListener = () => this.togglePause(true);\n    this.audioTimeUpdateListener = () => this.handleTimeUpdate();\n    this.audioMetadataLoadedListener = () => this.setState({\n      activeTrackIndex: this.currentTrackIndex\n    });\n  }\n\n  componentDidMount () {\n    logDeprecationWarnings(this.props);\n\n    // add event listeners bound outside the scope of our component\n    window.addEventListener('mousemove', this.adjustDisplayedTime);\n    document.addEventListener('touchmove', this.adjustDisplayedTime);\n    window.addEventListener('mouseup', this.seekReleaseListener);\n    document.addEventListener('touchend', this.seekReleaseListener);\n\n    const audio = this.audio;\n\n    // add event listeners on the audio element\n    audio.preload = 'metadata';\n    audio.crossOrigin = this.props.crossOrigin;\n    audio.addEventListener('play', this.audioPlayListener);\n    audio.addEventListener('pause', this.audioPauseListener);\n    audio.addEventListener('ended', this.audioEndListener);\n    audio.addEventListener('stalled', this.audioStallListener);\n    audio.addEventListener('timeupdate', this.audioTimeUpdateListener);\n    audio.addEventListener('loadedmetadata', this.audioMetadataLoadedListener);\n    this.addMediaEventListeners(this.props.onMediaEvent);\n\n    if (this.props.playlist && this.props.playlist.length) {\n      this.updateSource();\n      if (this.props.autoplay) {\n        const delay = this.props.autoplayDelayInSeconds || 0;\n        clearTimeout(this.delayTimeout);\n        this.delayTimeout = setTimeout(() => this.togglePause(false), delay * 1000);\n      }\n    }\n\n    if (!this.warnedAboutPlaylistMutation) {\n      this.lastPlaylistCopy = this.props.playlist && [...this.props.playlist];\n    }\n  }\n\n  componentWillUnmount () {\n    // remove event listeners bound outside the scope of our component\n    window.removeEventListener('mousemove', this.adjustDisplayedTime);\n    document.removeEventListener('touchmove', this.adjustDisplayedTime);\n    window.removeEventListener('mouseup', this.seekReleaseListener);\n    document.removeEventListener('touchend', this.seekReleaseListener);\n\n    // remove event listeners on the audio element\n    this.audio.removeEventListener('play', this.audioPlayListener);\n    this.audio.removeEventListener('pause', this.audioPauseListener);\n    this.audio.removeEventListener('ended', this.audioEndListener);\n    this.audio.removeEventListener('stalled', this.audioStallListener);\n    this.audio.removeEventListener('timeupdate', this.audioTimeUpdateListener);\n    this.audio.removeEventListener('loadedmetadata', this.audioMetadataLoadedListener);\n    this.removeMediaEventListeners(this.props.onMediaEvent);\n    clearTimeout(this.gapLengthTimeout);\n    clearTimeout(this.delayTimeout);\n\n    // pause the audio element before we unmount\n    this.audio.pause();\n\n    // remove noselect class in case a seek is in progress\n    document.body.classList.remove('noselect');\n  }\n\n  componentWillReceiveProps (nextProps) {\n    logDeprecationWarnings(nextProps);\n\n    // Update media event listeners that may have changed\n    this.removeMediaEventListeners(this.props.onMediaEvent);\n    this.addMediaEventListeners(nextProps.onMediaEvent);\n\n    const oldControls = [...this.props.controls];\n    this.controlKeys = nextProps.controls.map(control => {\n      const matchingIndex = oldControls.indexOf(control);\n      if (matchingIndex !== -1 && oldControls[matchingIndex]) {\n        oldControls[matchingIndex] = null;\n        return this.controlKeys[matchingIndex];\n      }\n      return getNextControlKey();\n    });\n\n    this.audio.crossOrigin = nextProps.crossOrigin;\n\n    const newPlaylist = nextProps.playlist;\n    if (!newPlaylist || !newPlaylist.length) {\n      if (this.audio) {\n        this.audio.src = '';\n      }\n      this.currentTrackIndex = 0;\n      return this.setState(this.defaultState);\n    }\n\n    const oldPlaylist = this.props.playlist;\n\n    const currentTrackUrl = ((oldPlaylist || [])[this.currentTrackIndex] || {}).url;\n    this.currentTrackIndex = arrayFindIndex(newPlaylist, track => {\n      return track.url && currentTrackUrl === track.url;\n    });\n    /* if the track we're already playing is in the new playlist, update the\n     * activeTrackIndex.\n     */\n    if (this.currentTrackIndex !== -1) {\n      this.setState({\n        activeTrackIndex: this.currentTrackIndex\n      });\n    }\n  }\n\n  addMediaEventListeners (mediaEvents) {\n    if (!mediaEvents) {\n      return;\n    }\n    Object.keys(mediaEvents).forEach((type) => {\n      if (typeof mediaEvents[type] !== 'function') {\n        return;\n      }\n      this.audio.addEventListener(type, mediaEvents[type]);\n    });\n  }\n\n  removeMediaEventListeners (mediaEvents) {\n    if (!mediaEvents) {\n      return;\n    }\n    Object.keys(mediaEvents).forEach((type) => {\n      if (typeof mediaEvents[type] !== 'function') {\n        return;\n      }\n      this.audio.removeEventListener(type, mediaEvents[type]);\n    });\n  }\n\n  componentDidUpdate (prevProps) {\n    /* if we loaded a new playlist and reset the current track marker, we\n     * should load up the first one.\n     */\n    if (this.currentTrackIndex === -1) {\n      this.skipToNextTrack(false);\n    }\n    if (prevProps !== this.props && !this.audio.paused) {\n      // update running media session based on new props\n      this.stealMediaSession();\n    }\n\n    // minimal check to see if the playlist was mutated\n    // (won't cover case where track properties are mutated directly)\n    if (\n      !this.warnedAboutPlaylistMutation &&\n      this.props.playlist &&\n      prevProps.playlist &&\n      prevProps.playlist === this.props.playlist &&\n      this.props.playlist.length && (\n        this.lastPlaylistCopy.length !== this.props.playlist.length ||\n        (\n          this.currentTrackIndex > -1 && (\n            this.lastPlaylistCopy[this.currentTrackIndex] !==\n              this.props.playlist[this.currentTrackIndex]\n          )\n        ) ||\n        this.props.playlist\n          .some((track, index) => this.lastPlaylistCopy[index] !== track)\n      )\n    ) {\n      logWarning(`\n        Making direct changes to the \\`playlist\\` prop is deprecated usage\n        which will stop working correctly in react-responsive-audio-player\n        v2.0.0. Instead you should make a new shallow copy of \\`playlist\\` and\n        pass that copy, modified, when you need to update playlist contents.\n        For more information, see:\n        https://github.com/benwiley4000/react-responsive-audio-player/blob/bcab159f365bd82ad25ee9e0288224e0d174b886/docs/playlist_in_progress.md`);\n      this.warnedAboutPlaylistMutation = true;\n    }\n    if (!this.warnedAboutPlaylistMutation) {\n      this.lastPlaylistCopy = this.props.playlist && [...this.props.playlist];\n    }\n  }\n\n  setAudioElementRef (ref) {\n    this.audio = ref;\n    if (typeof this.props.audioElementRef === 'function') {\n      this.props.audioElementRef(this.audio);\n    }\n  }\n\n  stealMediaSession () {\n    if (!(window.MediaSession && navigator.mediaSession instanceof MediaSession)) {\n      return;\n    }\n    navigator.mediaSession.metadata = new MediaMetadata(\n      this.props.playlist[this.currentTrackIndex]\n    );\n    supportableMediaSessionActions.map(action => {\n      if (this.props.supportedMediaSessionActions.indexOf(action) === -1) {\n        return null;\n      }\n      const seekLength = this.props.mediaSessionSeekLengthInSeconds;\n      switch (action) {\n        case 'play':\n          return this.togglePause.bind(this, false);\n        case 'pause':\n          return this.togglePause.bind(this, true);\n        case 'previoustrack':\n          return this.backSkip;\n        case 'nexttrack':\n          return this.skipToNextTrack;\n        case 'seekbackward':\n          return () => this.audio.currentTime -= seekLength;\n        case 'seekforward':\n          return () => this.audio.currentTime += seekLength;\n        default:\n          return undefined;\n      }\n    }).forEach((handler, i) => {\n      navigator.mediaSession.setActionHandler(\n        supportableMediaSessionActions[i],\n        handler\n      );\n    });\n  }\n\n  togglePause (value) {\n    if (!this.audio) {\n      return;\n    }\n    const pause = typeof value === 'boolean' ? value : !this.state.paused;\n    if (pause) {\n      return this.audio.pause();\n    }\n    if (!this.props.playlist || !this.props.playlist.length) {\n      return;\n    }\n    try {\n      const playPromise = this.audio.play();\n      if (playPromise && typeof playPromise.catch === 'function') {\n        playPromise.catch(err => {\n          // AbortError is pretty much always called because we're skipping\n          // tracks quickly or hitting pause before a track has a chance to\n          // play. It's pretty safe to just ignore these error messages.\n          if (err.name !== 'AbortError') {\n            return Promise.reject(err);\n          }\n        }).catch(playErrorHandler);\n      }\n    } catch (err) {\n      playErrorHandler(err);\n    }\n  }\n\n  skipToNextTrack (shouldPlay) {\n    if (!this.audio) {\n      return;\n    }\n    if (!this.props.playlist || !this.props.playlist.length) {\n      return;\n    }\n    let i = this.currentTrackIndex + 1;\n    if (i >= this.props.playlist.length) {\n      i = 0;\n    }\n    this.currentTrackIndex = i;\n    const shouldPauseOnCycle = !this.props.cycle && this.currentTrackIndex === 0;\n    const shouldPause = shouldPauseOnCycle || (typeof shouldPlay === 'boolean' ? !shouldPlay : false);\n    if (shouldPause) {\n      this.togglePause(true);\n    }\n    this.setState({\n      activeTrackIndex: -1,\n      displayedTime: 0\n    }, () => {\n      setTimeout(() => {\n        // run asynchronously so \"pause\" event has time to process\n        this.updateSource();\n        if (!shouldPause) {\n          this.togglePause(false);\n        }\n      });\n    });\n  }\n\n  backSkip () {\n    if (!this.props.playlist || !this.props.playlist.length) {\n      return;\n    }\n    const audio = this.audio;\n    let stayOnBackSkipThreshold = this.props.stayOnBackSkipThreshold;\n    if (isNaN(stayOnBackSkipThreshold)) {\n      stayOnBackSkipThreshold = 5;\n    }\n    if (audio.currentTime >= stayOnBackSkipThreshold) {\n      return audio.currentTime = 0;\n    }\n    let i = this.currentTrackIndex - 1;\n    if (i < 0) {\n      i = this.props.playlist.length - 1;\n    }\n    this.currentTrackIndex = i - 1;\n    this.skipToNextTrack();\n  }\n\n  updateSource () {\n    this.audio.src = this.props.playlist[this.currentTrackIndex].url;\n  }\n\n  handleTimeUpdate () {\n    if (!this.seekInProgress && this.audio) {\n      this.setState({\n        displayedTime: this.audio.currentTime\n      });\n    }\n  }\n\n  adjustDisplayedTime (event) {\n    if (!this.props.playlist || !this.props.playlist.length || this.props.disableSeek) {\n      return;\n    }\n    // make sure we don't select stuff in the background while seeking\n    if (event.type === 'mousedown' || event.type === 'touchstart') {\n      this.seekInProgress = true;\n      document.body.classList.add('noselect');\n    } else if (!this.seekInProgress) {\n      return;\n    }\n    /* we don't want mouse handlers to receive the event\n     * after touch handlers if we're seeking.\n     */\n    event.preventDefault();\n    const boundingRect = this.audioProgressContainer.getBoundingClientRect();\n    const isTouch = event.type.slice(0, 5) === 'touch';\n    const pageX = isTouch ? event.targetTouches.item(0).pageX : event.pageX;\n    const position = pageX - boundingRect.left - document.body.scrollLeft;\n    const containerWidth = boundingRect.width;\n    const progressPercentage = Math.max(0, Math.min(1, position / containerWidth));\n    this.setState({\n      displayedTime: progressPercentage * this.audio.duration\n    });\n  }\n\n  seek (event) {\n    /* this function is activated when the user lets\n     * go of the mouse, so if .noselect was applied\n     * to the document body, get rid of it.\n     */\n    document.body.classList.remove('noselect');\n    if (!this.seekInProgress) {\n      return;\n    }\n    /* we don't want mouse handlers to receive the event\n     * after touch handlers if we're seeking.\n     */\n    event.preventDefault();\n    this.seekInProgress = false;\n    const displayedTime = this.state.displayedTime;\n    if (isNaN(displayedTime)) {\n      return;\n    }\n    this.audio.currentTime = displayedTime;\n  }\n\n  render () {\n    const activeIndex = this.state.activeTrackIndex;\n    const displayText = this.props.getDisplayText(\n      this.props.playlist[activeIndex]\n    );\n\n    const displayedTime = this.state.displayedTime;\n    const duration = this.audio && this.audio.duration || 0;\n\n    const elapsedTime = convertToTime(displayedTime);\n    const fullTime = convertToTime(duration);\n    const timeRatio = `${ elapsedTime } / ${ fullTime }`;\n\n    const progressBarWidth = `${ (displayedTime / duration) * 100 }%`;\n\n    return (\n      <div\n        id=\"audio_player\"\n        className=\"audio_player\"\n        title={displayText}\n        style={this.props.style}\n      >\n        <audio ref={this.setAudioElementRef} />\n        {this.props.controls.map((controlKeyword, index) => {\n          const controlProps =\n            controlKeyword === 'progress' || controlKeyword === 'progressdisplay'\n              ? { displayText, timeRatio, progressBarWidth, audioPlayer: this }\n              : { audioPlayer : this };\n          const Control = keywordToControlComponent[controlKeyword] || null;\n          return <Control {...controlProps} key={this.controlKeys[index]} />;\n        })}\n      </div>\n    );\n  }\n\n}\n\nAudioPlayer.propTypes = {\n  playlist: PropTypes.array,\n  controls: PropTypes.arrayOf(PropTypes.oneOf([\n    'playpause',\n    'backskip',\n    'forwardskip',\n    'progress',\n    'progressdisplay',\n    'spacer'\n  ])),\n  crossOrigin: PropTypes.oneOf([\n    'anonymous',\n    'use-credentials'\n  ]),\n  autoplay: PropTypes.bool,\n  autoplayDelayInSeconds: PropTypes.number,\n  gapLengthInSeconds: PropTypes.number,\n  hideBackSkip: PropTypes.bool,\n  hideForwardSkip: PropTypes.bool,\n  cycle: PropTypes.bool,\n  disableSeek: PropTypes.bool,\n  stayOnBackSkipThreshold: PropTypes.number,\n  supportedMediaSessionActions: PropTypes.arrayOf(PropTypes.oneOf([\n    'play',\n    'pause',\n    'previoustrack',\n    'nexttrack',\n    'seekbackward',\n    'seekforward'\n  ]).isRequired).isRequired,\n  mediaSessionSeekLengthInSeconds: PropTypes.number.isRequired,\n  getDisplayText: PropTypes.func.isRequired,\n  style: PropTypes.object,\n  onMediaEvent: PropTypes.object,\n  audioElementRef: PropTypes.func\n};\n\nAudioPlayer.defaultProps = {\n  cycle: true,\n  controls: [\n    'spacer',\n    'backskip',\n    'playpause',\n    'forwardskip',\n    'spacer',\n    'progress'\n  ],\n  supportedMediaSessionActions: [\n    'play',\n    'pause',\n    'previoustrack',\n    'nexttrack'\n  ],\n  mediaSessionSeekLengthInSeconds: 10,\n  getDisplayText: function getDisplayText (track) {\n    if (!track) {\n      return '';\n    }\n    if (track.displayText) {\n      // TODO: Remove this check when support for the displayText prop is gone.\n      return track.displayText;\n    }\n    if (track.title && track.artist) {\n      return `${track.artist} - ${track.title}`;\n    }\n    return track.title || track.artist || track.album || '';\n  }\n};\n\nexport default AudioPlayer;\n"],"sourceRoot":""}